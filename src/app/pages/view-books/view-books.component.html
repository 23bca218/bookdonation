<div class="page">

  <!-- üîç SEARCH + FILTER -->
  <div class="top-bar">
    

    <select [(ngModel)]="selectedCondition">
      <option value="All">All</option>
      <option value="New">New</option>
      <option value="Used">Used</option>
      <option value="Old">Old</option>
    </select>
  </div>

  <!-- üìö BOOK GRID -->
  <div class="book-grid">
    <div
      class="book-card"
      *ngFor="let book of filteredBooks; let i = index"
      (click)="openBookDetails(i)"
    >
      <img [src]="book.image" />
      <h4>{{ book.title }}</h4>
      <p>{{ book.author }}</p>
      <span class="cond">{{ book.condition }}</span>

      <span
        class="badge"
        *ngIf="i === bookOfTheMonthIndex"
      >
        ‚≠ê Book of the Month
      </span>
    </div>
  </div>

  <!-- ================= BOOK DETAIL VIEW ================= -->
  <div class="overlay" *ngIf="showModal">
    <div class="detail-container">

      <!-- LEFT IMAGE -->
      <div class="detail-left">
        <img [src]="selectedBook?.image" />
        <div class="icons">
          üîó ‚ù§Ô∏è
        </div>
      </div>

      <!-- RIGHT CONTENT -->
      <div class="detail-right">

        <h2>{{ selectedBook?.title }}</h2>
        <p class="author">
          By <b>{{ selectedBook?.author }}</b>
        </p>

        <div class="price">
          ‚Çπ185 <span class="old">‚Çπ2295</span>
          <span class="off">91% OFF</span>
        </div>

        <div class="used">
          {{ selectedBook?.condition }} Book ¬∑ Only 1 left!
        </div>

        <p class="ship">
          Ships within <b>2 Business Days</b>
        </p>

        <!-- CONDITION -->
        <div class="condition-box">
          Good & Readable üìò <br />
          <strong>‚Çπ185</strong>
        </div>

        <!-- DELIVERY -->
        <div class="delivery">
          Delivery <span class="free">Free</span>
        </div>

        <div class="total">
          Total Amount : <b>‚Çπ185</b>
        </div>

        <div class="secure">
          ‚úÖ Safe & Secure Payment ¬∑ 100% Authentic Books
        </div>

        <!-- PINCODE -->
        <div class="pincode">
          üìç
          <input type="text" placeholder="Enter Delivery Pincode" />
          <button>Check</button>
        </div>

        <!-- BUTTONS -->
        <div class="actions">
          <button class="buy">Buy Now</button>
          <button class="cart" (click)="addToCart(selectedBook!)">
            üõí Add To Cart
          </button>
        </div>

        <!-- REVIEWS -->
        <div class="reviews">
          <h4>Reader Reviews</h4>
          <ul>
            <li *ngFor="let t of selectedBook?.testimonials">
              ‚≠ê {{ t }}
            </li>
          </ul>
        </div>

        <button class="close" (click)="closeModal()">‚úñ</button>
      </div>

    </div>
  </div>

</div>
